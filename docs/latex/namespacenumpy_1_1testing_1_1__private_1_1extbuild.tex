\doxysection{Référence de l\textquotesingle{}espace de nommage numpy.\+testing.\+\_\+private.\+extbuild}
\hypertarget{namespacenumpy_1_1testing_1_1__private_1_1extbuild}{}\label{namespacenumpy_1_1testing_1_1__private_1_1extbuild}\index{numpy.testing.\_private.extbuild@{numpy.testing.\_private.extbuild}}
\doxysubsubsection*{Fonctions}
\begin{DoxyCompactItemize}
\item 
\mbox{\hyperlink{namespacenumpy_1_1testing_1_1__private_1_1extbuild_afaf39c10d99d26665cc22c77ef4bf41d}{build\+\_\+and\+\_\+import\+\_\+extension}} (modname, functions, \texorpdfstring{$\ast$}{*}prologue="{}"{}, build\+\_\+dir=None, include\+\_\+dirs=\mbox{[}$\,$\mbox{]}, more\+\_\+init="{}"{})
\item 
\mbox{\hyperlink{namespacenumpy_1_1testing_1_1__private_1_1extbuild_ad715517c145cf9c1a2d4dc3abebe0edb}{compile\+\_\+extension\+\_\+module}} (name, builddir, include\+\_\+dirs, source\+\_\+string, libraries=\mbox{[}$\,$\mbox{]}, library\+\_\+dirs=\mbox{[}$\,$\mbox{]})
\item 
\mbox{\hyperlink{namespacenumpy_1_1testing_1_1__private_1_1extbuild_a8541e290ba456142185bbfd10f226105}{\+\_\+convert\+\_\+str\+\_\+to\+\_\+file}} (source, dirname)
\item 
\mbox{\hyperlink{namespacenumpy_1_1testing_1_1__private_1_1extbuild_a128b90868182971c8a193a06f222c355}{\+\_\+make\+\_\+methods}} (functions, modname)
\item 
\mbox{\hyperlink{namespacenumpy_1_1testing_1_1__private_1_1extbuild_ab9363f78ffa8b036352d1584b6cf3465}{\+\_\+make\+\_\+source}} (name, init, body)
\item 
\mbox{\hyperlink{namespacenumpy_1_1testing_1_1__private_1_1extbuild_a8ce7a90b63fe15a17892de95d5405e94}{\+\_\+c\+\_\+compile}} (cfile, outputfilename, include\+\_\+dirs=\mbox{[}$\,$\mbox{]}, libraries=\mbox{[}$\,$\mbox{]}, library\+\_\+dirs=\mbox{[}$\,$\mbox{]})
\item 
\mbox{\hyperlink{namespacenumpy_1_1testing_1_1__private_1_1extbuild_abd4fdefc6e10d3df504684bc6ac9adbe}{build}} (cfile, outputfilename, compile\+\_\+extra, link\+\_\+extra, include\+\_\+dirs, libraries, library\+\_\+dirs)
\item 
\mbox{\hyperlink{namespacenumpy_1_1testing_1_1__private_1_1extbuild_a268aec8ab59100b0cf0c1c9bbb639918}{get\+\_\+so\+\_\+suffix}} ()
\end{DoxyCompactItemize}


\doxysubsection{Description détaillée}
\begin{DoxyVerb}Build a c-extension module on-the-fly in tests.
See build_and_import_extensions for usage hints\end{DoxyVerb}
 

\doxysubsection{Documentation des fonctions}
\Hypertarget{namespacenumpy_1_1testing_1_1__private_1_1extbuild_a8ce7a90b63fe15a17892de95d5405e94}\label{namespacenumpy_1_1testing_1_1__private_1_1extbuild_a8ce7a90b63fe15a17892de95d5405e94} 
\index{numpy.testing.\_private.extbuild@{numpy.testing.\_private.extbuild}!\_c\_compile@{\_c\_compile}}
\index{\_c\_compile@{\_c\_compile}!numpy.testing.\_private.extbuild@{numpy.testing.\_private.extbuild}}
\doxysubsubsection{\texorpdfstring{\_c\_compile()}{\_c\_compile()}}
{\footnotesize\ttfamily numpy.\+testing.\+\_\+private.\+extbuild.\+\_\+c\+\_\+compile (\begin{DoxyParamCaption}\item[{}]{cfile,  }\item[{}]{outputfilename,  }\item[{}]{include\+\_\+dirs = {\ttfamily \mbox{[}\mbox{]}},  }\item[{}]{libraries = {\ttfamily \mbox{[}\mbox{]}},  }\item[{}]{library\+\_\+dirs = {\ttfamily \mbox{[}\mbox{]}} }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [protected]}}

\Hypertarget{namespacenumpy_1_1testing_1_1__private_1_1extbuild_a8541e290ba456142185bbfd10f226105}\label{namespacenumpy_1_1testing_1_1__private_1_1extbuild_a8541e290ba456142185bbfd10f226105} 
\index{numpy.testing.\_private.extbuild@{numpy.testing.\_private.extbuild}!\_convert\_str\_to\_file@{\_convert\_str\_to\_file}}
\index{\_convert\_str\_to\_file@{\_convert\_str\_to\_file}!numpy.testing.\_private.extbuild@{numpy.testing.\_private.extbuild}}
\doxysubsubsection{\texorpdfstring{\_convert\_str\_to\_file()}{\_convert\_str\_to\_file()}}
{\footnotesize\ttfamily numpy.\+testing.\+\_\+private.\+extbuild.\+\_\+convert\+\_\+str\+\_\+to\+\_\+file (\begin{DoxyParamCaption}\item[{}]{source,  }\item[{}]{dirname }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [protected]}}

\begin{DoxyVerb}Helper function to create a file ``source.c`` in `dirname` that contains
the string in `source`. Returns the file name
\end{DoxyVerb}
 \Hypertarget{namespacenumpy_1_1testing_1_1__private_1_1extbuild_a128b90868182971c8a193a06f222c355}\label{namespacenumpy_1_1testing_1_1__private_1_1extbuild_a128b90868182971c8a193a06f222c355} 
\index{numpy.testing.\_private.extbuild@{numpy.testing.\_private.extbuild}!\_make\_methods@{\_make\_methods}}
\index{\_make\_methods@{\_make\_methods}!numpy.testing.\_private.extbuild@{numpy.testing.\_private.extbuild}}
\doxysubsubsection{\texorpdfstring{\_make\_methods()}{\_make\_methods()}}
{\footnotesize\ttfamily numpy.\+testing.\+\_\+private.\+extbuild.\+\_\+make\+\_\+methods (\begin{DoxyParamCaption}\item[{}]{functions,  }\item[{}]{modname }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [protected]}}

\begin{DoxyVerb} Turns the name, signature, code in functions into complete functions
and lists them in a methods_table. Then turns the methods_table into a
``PyMethodDef`` structure and returns the resulting code fragment ready
for compilation
\end{DoxyVerb}
 \Hypertarget{namespacenumpy_1_1testing_1_1__private_1_1extbuild_ab9363f78ffa8b036352d1584b6cf3465}\label{namespacenumpy_1_1testing_1_1__private_1_1extbuild_ab9363f78ffa8b036352d1584b6cf3465} 
\index{numpy.testing.\_private.extbuild@{numpy.testing.\_private.extbuild}!\_make\_source@{\_make\_source}}
\index{\_make\_source@{\_make\_source}!numpy.testing.\_private.extbuild@{numpy.testing.\_private.extbuild}}
\doxysubsubsection{\texorpdfstring{\_make\_source()}{\_make\_source()}}
{\footnotesize\ttfamily numpy.\+testing.\+\_\+private.\+extbuild.\+\_\+make\+\_\+source (\begin{DoxyParamCaption}\item[{}]{name,  }\item[{}]{init,  }\item[{}]{body }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [protected]}}

\begin{DoxyVerb} Combines the code fragments into source code ready to be compiled
\end{DoxyVerb}
 \Hypertarget{namespacenumpy_1_1testing_1_1__private_1_1extbuild_abd4fdefc6e10d3df504684bc6ac9adbe}\label{namespacenumpy_1_1testing_1_1__private_1_1extbuild_abd4fdefc6e10d3df504684bc6ac9adbe} 
\index{numpy.testing.\_private.extbuild@{numpy.testing.\_private.extbuild}!build@{build}}
\index{build@{build}!numpy.testing.\_private.extbuild@{numpy.testing.\_private.extbuild}}
\doxysubsubsection{\texorpdfstring{build()}{build()}}
{\footnotesize\ttfamily numpy.\+testing.\+\_\+private.\+extbuild.\+build (\begin{DoxyParamCaption}\item[{}]{cfile,  }\item[{}]{outputfilename,  }\item[{}]{compile\+\_\+extra,  }\item[{}]{link\+\_\+extra,  }\item[{}]{include\+\_\+dirs,  }\item[{}]{libraries,  }\item[{}]{library\+\_\+dirs }\end{DoxyParamCaption})}

\Hypertarget{namespacenumpy_1_1testing_1_1__private_1_1extbuild_afaf39c10d99d26665cc22c77ef4bf41d}\label{namespacenumpy_1_1testing_1_1__private_1_1extbuild_afaf39c10d99d26665cc22c77ef4bf41d} 
\index{numpy.testing.\_private.extbuild@{numpy.testing.\_private.extbuild}!build\_and\_import\_extension@{build\_and\_import\_extension}}
\index{build\_and\_import\_extension@{build\_and\_import\_extension}!numpy.testing.\_private.extbuild@{numpy.testing.\_private.extbuild}}
\doxysubsubsection{\texorpdfstring{build\_and\_import\_extension()}{build\_and\_import\_extension()}}
{\footnotesize\ttfamily numpy.\+testing.\+\_\+private.\+extbuild.\+build\+\_\+and\+\_\+import\+\_\+extension (\begin{DoxyParamCaption}\item[{}]{modname,  }\item[{}]{functions,  }\item[{\texorpdfstring{$\ast$}{*}}]{prologue = {\ttfamily "{}"{}},  }\item[{}]{build\+\_\+dir = {\ttfamily None},  }\item[{}]{include\+\_\+dirs = {\ttfamily \mbox{[}\mbox{]}},  }\item[{}]{more\+\_\+init = {\ttfamily "{}"{}} }\end{DoxyParamCaption})}

\begin{DoxyVerb}Build and imports a c-extension module `modname` from a list of function
fragments `functions`.


Parameters
----------
functions : list of fragments
    Each fragment is a sequence of func_name, calling convention, snippet.
prologue : string
    Code to precede the rest, usually extra ``#include`` or ``#define``
    macros.
build_dir : pathlib.Path
    Where to build the module, usually a temporary directory
include_dirs : list
    Extra directories to find include files when compiling
more_init : string
    Code to appear in the module PyMODINIT_FUNC

Returns
-------
out: module
    The module will have been loaded and is ready for use

Examples
--------
>>> functions = [("test_bytes", "METH_O", \"\"\"
    if ( !PyBytesCheck(args)) {
        Py_RETURN_FALSE;
    }
    Py_RETURN_TRUE;
\"\"\")]
>>> mod = build_and_import_extension("testme", functions)
>>> assert not mod.test_bytes('abc')
>>> assert mod.test_bytes(b'abc')
\end{DoxyVerb}
 \Hypertarget{namespacenumpy_1_1testing_1_1__private_1_1extbuild_ad715517c145cf9c1a2d4dc3abebe0edb}\label{namespacenumpy_1_1testing_1_1__private_1_1extbuild_ad715517c145cf9c1a2d4dc3abebe0edb} 
\index{numpy.testing.\_private.extbuild@{numpy.testing.\_private.extbuild}!compile\_extension\_module@{compile\_extension\_module}}
\index{compile\_extension\_module@{compile\_extension\_module}!numpy.testing.\_private.extbuild@{numpy.testing.\_private.extbuild}}
\doxysubsubsection{\texorpdfstring{compile\_extension\_module()}{compile\_extension\_module()}}
{\footnotesize\ttfamily numpy.\+testing.\+\_\+private.\+extbuild.\+compile\+\_\+extension\+\_\+module (\begin{DoxyParamCaption}\item[{}]{name,  }\item[{}]{builddir,  }\item[{}]{include\+\_\+dirs,  }\item[{}]{source\+\_\+string,  }\item[{}]{libraries = {\ttfamily \mbox{[}\mbox{]}},  }\item[{}]{library\+\_\+dirs = {\ttfamily \mbox{[}\mbox{]}} }\end{DoxyParamCaption})}

\begin{DoxyVerb}Build an extension module and return the filename of the resulting
native code file.

Parameters
----------
name : string
    name of the module, possibly including dots if it is a module inside a
    package.
builddir : pathlib.Path
    Where to build the module, usually a temporary directory
include_dirs : list
    Extra directories to find include files when compiling
libraries : list
    Libraries to link into the extension module
library_dirs: list
    Where to find the libraries, ``-L`` passed to the linker
\end{DoxyVerb}
 \Hypertarget{namespacenumpy_1_1testing_1_1__private_1_1extbuild_a268aec8ab59100b0cf0c1c9bbb639918}\label{namespacenumpy_1_1testing_1_1__private_1_1extbuild_a268aec8ab59100b0cf0c1c9bbb639918} 
\index{numpy.testing.\_private.extbuild@{numpy.testing.\_private.extbuild}!get\_so\_suffix@{get\_so\_suffix}}
\index{get\_so\_suffix@{get\_so\_suffix}!numpy.testing.\_private.extbuild@{numpy.testing.\_private.extbuild}}
\doxysubsubsection{\texorpdfstring{get\_so\_suffix()}{get\_so\_suffix()}}
{\footnotesize\ttfamily numpy.\+testing.\+\_\+private.\+extbuild.\+get\+\_\+so\+\_\+suffix (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})}

